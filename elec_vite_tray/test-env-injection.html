<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¯å¢ƒå˜é‡æ³¨å…¥æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }
        h1 {
            color: #333;
            margin-bottom: 30px;
            font-size: 28px;
        }
        .env-card {
            background: #f7f9fc;
            border-left: 4px solid #667eea;
            padding: 15px 20px;
            margin-bottom: 15px;
            border-radius: 6px;
        }
        .env-label {
            font-weight: 600;
            color: #667eea;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .env-value {
            font-family: 'Monaco', 'Consolas', monospace;
            color: #333;
            font-size: 16px;
            margin-top: 8px;
            padding: 8px 12px;
            background: white;
            border-radius: 4px;
            border: 1px solid #e1e8ed;
        }
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }
        .badge-dev {
            background: #4caf50;
            color: white;
        }
        .badge-prod {
            background: #f44336;
            color: white;
        }
        .api-section {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e1e8ed;
        }
        .api-section h2 {
            font-size: 20px;
            color: #333;
            margin-bottom: 20px;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.6;
        }
        .code-keyword {
            color: #f687b3;
        }
        .code-string {
            color: #68d391;
        }
        .code-property {
            color: #63b3ed;
        }
        .console-log {
            margin-top: 20px;
        }
        #console-output {
            background: #1a202c;
            color: #48bb78;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 13px;
            min-height: 100px;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ Electron ç¯å¢ƒå˜é‡æ³¨å…¥æ¼”ç¤º</h1>

        <div id="env-display"></div>

        <div class="api-section">
            <h2>ğŸ“ å¦‚ä½•ä½¿ç”¨</h2>
            <div class="code-block">
                <span class="code-keyword">// è®¿é—®ç¯å¢ƒå˜é‡</span><br>
                <span class="code-keyword">console</span>.<span class="code-property">log</span>(<span class="code-string">window.ENV</span>);<br><br>

                <span class="code-keyword">// æ£€æŸ¥æ˜¯å¦ä¸ºå¼€å‘ç¯å¢ƒ</span><br>
                <span class="code-keyword">if</span> (<span class="code-string">window</span>.<span class="code-property">ENV</span>.<span class="code-property">isDev</span>) {<br>
                &nbsp;&nbsp;<span class="code-keyword">console</span>.<span class="code-property">log</span>(<span class="code-string">'è¿è¡Œåœ¨å¼€å‘æ¨¡å¼'</span>);<br>
                }<br><br>

                <span class="code-keyword">// è·å–å½“å‰å¹³å°</span><br>
                <span class="code-keyword">const</span> platform = <span class="code-string">window</span>.<span class="code-property">ENV</span>.<span class="code-property">platform</span>;<br>
                <span class="code-keyword">console</span>.<span class="code-property">log</span>(<span class="code-string">'å½“å‰å¹³å°:'</span>, platform);<br><br>

                <span class="code-keyword">// è·å–åº”ç”¨ç‰ˆæœ¬</span><br>
                <span class="code-keyword">const</span> version = <span class="code-string">window</span>.<span class="code-property">ENV</span>.<span class="code-property">appVersion</span>;<br>
                <span class="code-keyword">console</span>.<span class="code-property">log</span>(<span class="code-string">'åº”ç”¨ç‰ˆæœ¬:'</span>, version);
            </div>

            <div class="console-log">
                <h3 style="margin-bottom: 10px; color: #333;">ğŸ–¥ï¸ æ§åˆ¶å°è¾“å‡º</h3>
                <div id="console-output"></div>
            </div>
        </div>
    </div>

    <script>
        // æ˜¾ç¤ºç¯å¢ƒå˜é‡
        function displayEnvVariables() {
            const env = window.ENV;
            const container = document.getElementById('env-display');

            const envVars = [
                { label: 'NODE_ENV', value: env.NODE_ENV, badge: env.isDev ? 'dev' : 'prod' },
                { label: 'ELECTRON_RENDERER_URL', value: env.ELECTRON_RENDERER_URL || '(empty)' },
                { label: 'isDev', value: env.isDev.toString() },
                { label: 'isProd', value: env.isProd.toString() },
                { label: 'platform', value: env.platform },
                { label: 'appVersion', value: env.appVersion }
            ];

            container.innerHTML = envVars.map(({ label, value, badge }) => `
                <div class="env-card">
                    <div class="env-label">
                        ${label}
                        ${badge ? `<span class="badge badge-${badge}">${badge}</span>` : ''}
                    </div>
                    <div class="env-value">${value}</div>
                </div>
            `).join('');

            // è¾“å‡ºåˆ°æ§åˆ¶å°
            const consoleOutput = document.getElementById('console-output');
            const logs = [
                'Environment variables loaded successfully!',
                `NODE_ENV: ${env.NODE_ENV}`,
                `isDev: ${env.isDev}`,
                `isProd: ${env.isProd}`,
                `platform: ${env.platform}`,
                `appVersion: ${env.appVersion}`,
                `ELECTRON_RENDERER_URL: ${env.ELECTRON_RENDERER_URL || '(empty)'}`
            ];

            consoleOutput.innerHTML = logs.map(log =>
                `<div style="margin-bottom: 5px;">> ${log}</div>`
            ).join('');

            // å®é™…çš„æ§åˆ¶å°è¾“å‡º
            console.log('ğŸš€ Environment Variables:', env);
            console.table(env);
        }

        // é¡µé¢åŠ è½½åæ‰§è¡Œ
        window.addEventListener('DOMContentLoaded', () => {
            // æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦å¯ç”¨
            if (window.ENV) {
                displayEnvVariables();
            } else {
                document.getElementById('env-display').innerHTML = `
                    <div class="env-card" style="border-left-color: #f44336;">
                        <div class="env-label" style="color: #f44336;">é”™è¯¯</div>
                        <div class="env-value">window.ENV æœªå®šä¹‰ï¼ preload è„šæœ¬å¯èƒ½æœªæ­£ç¡®åŠ è½½ã€‚</div>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>
