# Electron 托盘应用 - 快速开始

## ✅ 问题已解决

之前的模块导入错误已经修复。问题出在 `SystemInfo.ts` 中使用了命名空间导入 (`import * as os`)，现已改为默认导入 (`import os`)。

## 🚀 启动应用

### 开发模式
```bash
bun run dev
```

### 生产模式（先构建）
```bash
bun run build
bun run start
```

## 📋 新增功能测试步骤

### 1. 启动应用
```bash
bun run dev
```

### 2. 查看托盘图标
应用启动后，会在系统托盘（菜单栏）显示图标。

### 3. 测试系统信息功能

1. **右键点击托盘图标**
2. 找到"系统信息"子菜单
3. 测试以下功能：

#### 查看系统状态
- 点击"查看系统状态"
- 应该看到包含以下信息的对话框：
  - 操作系统信息（平台、版本、架构）
  - CPU 信息（型号、核心数、使用率）
  - 内存信息（总计、已用、空闲、使用率）
  - 进程信息（PID、版本、内存占用）

#### 查看服务状态
- 点击"查看服务状态"
- 应该看到包含以下信息的对话框：
  - 应用名称和版本
  - 监控状态（运行中/已停止）
  - 任务统计（总计、运行中、已完成、失败）
  - 配置信息（通知、角标、图标颜色）

#### 查看端口信息
- 点击"查看端口信息"
- 应该看到当前使用的端口信息

#### 查看全部信息
- 点击"查看全部信息"
- 应该看到完整的系统信息报告

### 4. 测试交互功能
在每个对话框中，你可以：
- 点击"刷新"按钮重新获取最新信息
- 点击"复制到剪贴板"复制信息
- 点击"关闭"关闭对话框

## 🐛 故障排查

### 如果托盘图标不显示
1. 检查 `resources/icon.png` 是否存在
2. 查看控制台日志是否有错误

### 如果点击菜单项没有反应
1. 打开开发者工具（F12）查看错误
2. 检查 SystemInfo 和 TrayManager 是否正确初始化

### 如果看到模块导入错误
```bash
# 清理构建文件
rm -rf out

# 重新启动
bun run dev
```

## 📁 相关文件

- **系统信息模块**: `src/main/modules/SystemInfo.ts`
- **托盘管理器**: `src/main/modules/TrayManager.ts`
- **主进程入口**: `src/main/index.ts`
- **功能文档**: `docs/system-info-feature.md`

## 💡 提示

1. **首次启动**: 如果端口 5173 被占用，Vite 会自动使用其他端口（如 5174）
2. **热重载**: 修改代码后会自动重新加载
3. **日志查看**: 在终端中可以看到详细的日志输出
4. **调试**: 按 F12 打开开发者工具查看详细错误信息

## 🎯 验证清单

- [ ] 应用成功启动
- [ ] 托盘图标显示在菜单栏
- [ ] 右键点击托盘图标显示菜单
- [ ] "系统信息"子菜单显示四个选项
- [ ] 点击"查看系统状态"显示正确的系统信息
- [ ] 点击"查看服务状态"显示正确的服务信息
- [ ] 点击"查看端口信息"显示端口信息
- [ ] 点击"查看全部信息"显示完整报告
- [ ] 对话框中的"刷新"按钮工作正常
- [ ] 对话框中的"复制到剪贴板"按钮工作正常
- [ ] 对话框中的"关闭"按钮工作正常

如果所有项目都能正常工作，说明功能已经完整实现！🎉
